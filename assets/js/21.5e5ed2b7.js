(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{291:function(e,t,o){"use strict";o.r(t);var r=o(5),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[e._v("The "),o("a",{attrs:{href:"http://electricimp.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Electric Imp"),o("OutboundLink")],1),e._v(" makes it so easy to put things on the web to make that web of things everyone is talking about. I decided to build a soil moisture sensor that alerts when plants need watering. This my oh-so extensive list of requirements:")]),e._v(" "),o("ul",[o("li",[e._v("It should connect to the net and log to "),o("a",{attrs:{href:"http://cosm.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cosm"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("It should send SMS or other notifications when attention is needed")]),e._v(" "),o("li",[e._v("It should monitor soil moisture "),o("em",[e._v("and")]),e._v(" water level so you either stick the sensor in the soil and measure VWC (Volumetric Water Content) or put it in a self-watering pot where it measures water level")]),e._v(" "),o("li",[e._v("It should run on solar power with battery backup")]),e._v(" "),o("li",[e._v("It should not be awfully expensive")])]),e._v(" "),o("p",[e._v("Some research on the net quickly pointed out a moisture sensor from "),o("a",{attrs:{href:"http://www.vegetronix.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vegetronix"),o("OutboundLink")],1),e._v(" that measures both moisture and water level. It's super easy to use, solidly built, won't corrode (an almost inevitable fate for cheaper moisture sensors) and operates on very low effect. Perfect for me, except that they are a bit pricey @US$38 each. But WTF, YOLO and so on, they are the best.")]),e._v(" "),o("p",[e._v("The Electric Imp is the bridge between the sensor and the net. It has six IO ports that all can handle Analog-to-digital conversion but I decided to limit the number of probes to three, and save the rest of the ports for other needs. One port controls power to the soil probes. One input will monitor battery level. This leaves one IO port for future needs. Here's a sketch of the electronics:")]),e._v(" "),o("p",[o("img",{attrs:{src:"http://i.imgur.com/T3WC6Yn.png",alt:"Imgur"}})]),e._v(" "),o("p",[e._v("The soil probe delivers a voltage from 0â€“3 volts depending on how moist it is. I tossed in a simple protective circuit in front of on each input port; a voltage follower with a 3.3V Zener diode to ground that protects from over-voltage and a 1M pull-down resistor to ground that pulls down to 0V if no probe is connected.")]),e._v(" "),o("p",[e._v("Then there is a N-type MOS-FET (horribly rendered in the sketch above) connected to an output pin on the imp. Setting the output to high will open the FET and get juice to the probes. I squeezed everything into a little box and use a solar panel boosted rechargeable battery to provide power.")]),e._v(" "),o("p",[e._v("Here's the finished prototype:")]),e._v(" "),o("p",[o("img",{attrs:{src:"http://i.imgur.com/djbmIrK.jpg",alt:"Moisture Guard"}})]),e._v(" "),o("p",[e._v("The rest is software. Quite simple stuff, but I'm using parts of the electric imps API which still is in closed beta so I'm not allowed to show it until it's officially released. Will update when possible. But basically, the imp wakes up at regular interval, measures, detects if there is a significant change and if so reports to the server part of the Imp solution. The server then decides wether to notify or just log.")]),e._v(" "),o("p",[e._v("That's all!")])])}),[],!1,null,null,null);t.default=s.exports}}]);